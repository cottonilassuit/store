// --- 1. PRODUCT DATA (This replaces the external products.json file) ---
const productsData = [
  {
    "id": 1,
    "name": "حماله دربى",
    "price": "120 - 122 جنيه",
    "colors": ["أبيض", "ألوان"],
    "sizes": ["2XL", "3XL", "4XL", "L", "M", "S", "XL"],
    "category": "قطونيل",
    "images": [
      "img/proudct/قطونيل/حماله دربى/حماله دربى ابيض.webp",
      "img/proudct/قطونيل/حماله دربى/حماله دربى الوان 1.jpg",
      "img/proudct/قطونيل/حماله دربى/حماله دربى الوان 2.webp",
      "img/proudct/قطونيل/حماله دربى/حماله دربى الوان 3.webp",
      "img/proudct/قطونيل/حماله دربى/حماله دربى الوان 4.webp",
      "img/proudct/قطونيل/حماله دربى/حماله دربى الوان 5.webp",
      "img/proudct/قطونيل/حماله دربى/حماله دربى الوان 6.webp",
      "img/proudct/قطونيل/حماله دربى/حماله دربى الوان 7.jpg",
      "img/proudct/قطونيل/حماله دربى/حماله دربى الوان 7.webp"
    ]
  },
  {
    "id": 2,
    "name": "حمالة ستريتش رجالي",
    "price": "155 - 165 جنيه",
    "colors": ["أبيض", "ألوان"],
    "sizes": ["2XL", "3XL", "4XL", "6XL", "8XL", "L", "M", "S", "XL"],
    "category": "قطونيل",
    "images": [
      "img/proudct/قطونيل/حمالة ستريتش رجالي/حمالة ستريتش رجالي ابيض.webp",
      "img/proudct/قطونيل/حمالة ستريتش رجالي/حمالة ستريتش رجالي الوان 1.webp",
      "img/proudct/قطونيل/حمالة ستريتش رجالي/حمالة ستريتش رجالي الوان 2.webp",
      "img/proudct/قطونيل/حمالة ستريتش رجالي/حمالة ستريتش رجالي الوان 3.jpg"
    ]
  },
  {
    "id": 3,
    "name": "كت ستريتش رجالي",
    "price": "160 جنيه",
    "colors": ["أبيض", "ألوان"],
    "sizes": ["2XL", "3XL", "4XL", "L", "M", "S", "XL"],
    "category": "قطونيل",
    "images": [
      "img/proudct/قطونيل/كت ستريتش رجالي/كت ستريتش رجالي  ابيض.webp",
      "img/proudct/قطونيل/كت ستريتش رجالي/كت ستريتش رجالي الوان 1.webp",
      "img/proudct/قطونيل/كت ستريتش رجالي/كت ستريتش رجالي الوان 2.webp"
    ]
  },
  {
    "id": 4,
    "name": "نصف كم ستريتش رجالي",
    "price": "195 جنيه",
    "colors": ["أبيض", "ألوان"],
    "sizes": ["2XL", "3XL", "4XL", "L", "M", "S", "XL"],
    "category": "قطونيل",
    "images": [
      "img/proudct/قطونيل/نصف كم ستريتش رجالي/نصف كم ستريتش رجالي ابيض.webp",
      "img/proudct/قطونيل/نصف كم ستريتش رجالي/نصف كم ستريتش رجالي الوان 2.webp",
      "img/proudct/قطونيل/نصف كم ستريتش رجالي/نصف كم ستريتش رجالي الوان 3.webp",
      "img/proudct/قطونيل/نصف كم ستريتش رجالي/نصف كم ستريتش رجالي الوان.webp"
    ]
  },
  {
    "id": 5,
    "name": "نصف كم ستريتش رجالي الوان",
    "price": "195 - 199 جنيه",
    "colors": ["متعدد"],
    "sizes": ["3XL", "4XL"],
    "category": "قطونيل",
    "images": [
      "img/proudct/قطونيل/نصف كم ستريتش رجالي/نصف كم ستريتش رجالي ابيض.webp",
      "img/proudct/قطونيل/نصف كم ستريتش رجالي/نصف كم ستريتش رجالي الوان 2.webp",
      "img/proudct/قطونيل/نصف كم ستريتش رجالي/نصف كم ستريتش رجالي الوان 3.webp",
      "img/proudct/قطونيل/نصف كم ستريتش رجالي/نصف كم ستريتش رجالي الوان.webp"
    ]
  },

  {
    "id": 7,
    "name": "كم طويل ستريتش رجالي",
    "price": "250 جنيه",
    "colors": ["أبيض", "ألوان"],
    "sizes": ["2XL", "3XL", "4XL", "L", "M", "S", "XL"],
    "category": "قطونيل",
    "images": [
      "img/proudct/قطونيل/كم طويل ستريتش رجالي/كم طويل ستريتش رجالي ابيض.webp",
      "img/proudct/قطونيل/كم طويل ستريتش رجالي/كم طويل ستريتش رجالي الوان 1.webp",
      "img/proudct/قطونيل/كم طويل ستريتش رجالي/كم طويل ستريتش رجالي الوان.webp"
    ]
  },
  {
    "id": 8,
    "name": "حمالة سبور رجالي مقاس",
    "price": "110 جنيه",
    "colors": ["أبيض", "ألوان"],
    "sizes": ["2XL", "3XL", "4XL", "5XL", "6XL", "7XL", "8XL", "L", "M", "S", "XL"],
    "category": "قطونيل",
    "images": [
      "img/proudct/قطونيل/حمالة سبور أبيض رجالي/حمالة سبور أبيض رجالي 1.webp",
      "img/proudct/قطونيل/حمالة سبور أبيض رجالي/حمالة سبور أبيض رجالي.webp"
    ]
  },
  {
    "id": 9,
    "name": "كلسون ستريتش ريلاكس رجالي",
    "price": "250 جنيه",
    "colors": ["أبيض", "ألوان"],
    "sizes": ["2XL", "3XL", "4XL", "L", "M", "XL"],
    "category": "قطونيل",
    "images": [
      "img/proudct/قطونيل/كلسون ستريتش ريلاكس رجالي/كلسون ستريتش ريلاكس رجالي ابيض.webp",
      "img/proudct/قطونيل/كلسون ستريتش ريلاكس رجالي/كلسون ستريتش ريلاكس رجالي الوان 1.webp",
      "img/proudct/قطونيل/كلسون ستريتش ريلاكس رجالي/كلسون ستريتش ريلاكس رجالي الوان 2.webp",
      "img/proudct/قطونيل/كلسون ستريتش ريلاكس رجالي/كلسون ستريتش ريلاكس رجالي الوان.webp"
    ]
  },
  {
    "id": 10,
    "name": "طقم ريلاكس بوكسر + حماله",
    "price": "255 - 257 جنيه",
    "colors": ["متعدد"],
    "sizes": ["2XL", "3XL", "4XL", "L", "M", "S", "XL"],
    "category": "قطونيل",
    "images": [
      "img/proudct/قطونيل/طقم ريلاكس بوكسر + حماله/طقم ريلاكس بوكسر + حماله 1.webp",
      "img/proudct/قطونيل/طقم ريلاكس بوكسر + حماله/طقم ريلاكس بوكسر + حماله 10.webp",
      "img/proudct/قطونيل/طقم ريلاكس بوكسر + حماله/طقم ريلاكس بوكسر + حماله 2.webp",
      "img/proudct/قطونيل/طقم ريلاكس بوكسر + حماله/طقم ريلاكس بوكسر + حماله 3.webp",
      "img/proudct/قطونيل/طقم ريلاكس بوكسر + حماله/طقم ريلاكس بوكسر + حماله 4.webp",
      "img/proudct/قطونيل/طقم ريلاكس بوكسر + حماله/طقم ريلاكس بوكسر + حماله 5.webp",
      "img/proudct/قطونيل/طقم ريلاكس بوكسر + حماله/طقم ريلاكس بوكسر + حماله 6.webp",
      "img/proudct/قطونيل/طقم ريلاكس بوكسر + حماله/طقم ريلاكس بوكسر + حماله 7.jpg",
      "img/proudct/قطونيل/طقم ريلاكس بوكسر + حماله/طقم ريلاكس بوكسر + حماله 9.webp"
    ]
  },
  {
    "id": 11,
    "name": "بشكير قطونيل صغير 70*140",
    "price": "330 جنيه",
    "colors": ["متعدد"],
    "sizes": ["70*140 CM"],
    "category": "قطونيل",
    "images": ["img/proudct/قطونيل/بشكير قطونيل صغير (70x140)/بشكير قطونيل صغير (70x140).jpg"]
  },
  {
    "id": 12,
    "name": "بشكير قطونيل كبير 90*160",
    "price": "540 جنيه",
    "colors": ["متعدد"],
    "sizes": ["90*160 CM"],
    "category": "قطونيل",
    "images": ["img/proudct/قطونيل/بشكير قطونيل كبير ( 90x160 )/بشكير قطونيل كبير ( 90x160 ).webp"]
  },
  {
    "id": 13,
    "name": "بكيني ديجيتال رجالي",
    "price": "80 جنيه",
    "colors": ["متعدد"],
    "sizes": ["2XL", "3XL", "4XL", "L", "M", "S", "XL"],
    "category": "قطونيل",
    "images": ["img/proudct/قطونيل/بيكيني ديجيتال رجالي/بيكيني ديجيتال رجالي.jpg"]
  },
  {
    "id": 14,
    "name": "بيكيني ريلاكس رجالي مقاس",
    "price": "102 جنيه",
    "colors": ["متعدد"],
    "sizes": ["2XL", "3XL", "4XL", "L", "M", "S", "XL"],
    "category": "قطونيل",
    "images": [
      "img/proudct/قطونيل/بيكيني ريلاكس رجالي/بيكيني ريلاكس رجالي 1.webp",
      "img/proudct/قطونيل/بيكيني ريلاكس رجالي/بيكيني ريلاكس رجالي 2.webp",
      "img/proudct/قطونيل/بيكيني ريلاكس رجالي/بيكيني ريلاكس رجالي 3.jpg",
      "img/proudct/قطونيل/بيكيني ريلاكس رجالي/بيكيني ريلاكس رجالي 4.webp",
      "img/proudct/قطونيل/بيكيني ريلاكس رجالي/بيكيني ريلاكس رجالي.jpg"
    ]
  },
  {
    "id": 16,
    "name": "بوكسر Pro رجالي مقاس",
    "price": "140 جنيه",
    "colors": ["متعدد"],
    "sizes": ["2XL", "3XL", "4XL", "L", "M", "S", "XL"],
    "category": "قطونيل",
    "images": [
      "img/proudct/قطونيل/بوكسر Pro رجالي/بوكسر Pro رجالي 1.webp",
      "img/proudct/قطونيل/بوكسر Pro رجالي/بوكسر Pro رجالي 2.avif",
      "img/proudct/قطونيل/بوكسر Pro رجالي/بوكسر Pro رجالي 3.jpg",
      "img/proudct/قطونيل/بوكسر Pro رجالي/بوكسر Pro رجالي 4.jpg",
      "img/proudct/قطونيل/بوكسر Pro رجالي/بوكسر Pro رجالي.jpg"
    ]
  },
  {
    "id": 17,
    "name": "بوكسر ديجيتال رجالي مقاس",
    "price": "105 جنيه",
    "colors": ["متعدد"],
    "sizes": ["2XL", "3XL", "4XL", "L", "M", "S", "XL"],
    "category": "قطونيل",
    "images": [
      "img/proudct/قطونيل/بوكسر ديجيتال رجالي/بوكسر ديجيتال رجالي 1.webp",
      "img/proudct/قطونيل/بوكسر ديجيتال رجالي/بوكسر ديجيتال رجالي 2.jpg",
      "img/proudct/قطونيل/بوكسر ديجيتال رجالي/بوكسر ديجيتال رجالي 3.webp",
      "img/proudct/قطونيل/بوكسر ديجيتال رجالي/بوكسر ديجيتال رجالي 4.webp",
      "img/proudct/قطونيل/بوكسر ديجيتال رجالي/بوكسر ديجيتال رجالي 5.jpg",
      "img/proudct/قطونيل/بوكسر ديجيتال رجالي/بوكسر ديجيتال رجالي 6.jpg",
      "img/proudct/قطونيل/بوكسر ديجيتال رجالي/بوكسر ديجيتال رجالي7.jpg"
    ]
  },
  {
    "id": 18,
    "name": "بوكسر ديزاين رجالي مقاس",
    "price": "140 جنيه",
    "colors": ["متعدد"],
    "sizes": ["2XL", "3XL", "4XL", "5XL", "6XL", "7XL", "8XL", "L", "M", "S", "XL"],
    "category": "قطونيل",
    "images": [
      "img/proudct/قطونيل/بوكسر ديزاين رجالي/بوكسر ديزاين رجالي  1.webp",
      "img/proudct/قطونيل/بوكسر ديزاين رجالي/بوكسر ديزاين رجالي  4.jpeg",
      "img/proudct/قطونيل/بوكسر ديزاين رجالي/بوكسر ديزاين رجالي 2.jpg",
      "img/proudct/قطونيل/بوكسر ديزاين رجالي/بوكسر ديزاين رجالي 3.jpg"
    ]
  },
  {
    "id": 19,
    "name": "بوكسر مطبوع رجالي مقاس",
    "price": "99 جنيه",
    "colors": ["متعدد"],
    "sizes": ["2XL", "3XL", "4XL", "L", "M", "S", "XL"],
    "category": "قطونيل",
    "images": [
      "img/proudct/قطونيل/بوكسر مطبوع رجالي/بوكسر مطبوع رجالي1.jpg",
      "img/proudct/قطونيل/بوكسر مطبوع رجالي/بوكسر مطبوع رجالي2.webp",
      "img/proudct/قطونيل/بوكسر مطبوع رجالي/بوكسر مطبوع رجالي3.jpg",
      "img/proudct/قطونيل/بوكسر مطبوع رجالي/بوكسر مطبوع رجالي4.webp",
      "img/proudct/قطونيل/بوكسر مطبوع رجالي/بوكسر مطبوع رجالي5.avif"
    ]
  },
  {
    "id": 20,
    "name": "بوكسر كلاسيك قماش رجالي مقاس",
    "price": "165 جنيه",
    "colors": ["متعدد"],
    "sizes": ["2XL", "3XL", "4XL", "L", "M", "S", "XL"],
    "category": "قطونيل",
    "images": [
      "img/proudct/قطونيل/بوكسر كلاسيك قماش رجالي/بوكسر كلاسيك قماش رجالي.jpg",
      "img/proudct/قطونيل/بوكسر كلاسيك قماش رجالي/بوكسر كلاسيك قماش رجالي1.jpg",
      "img/proudct/قطونيل/بوكسر كلاسيك قماش رجالي/بوكسر كلاسيك قماش رجالي2.jpg",
      "img/proudct/قطونيل/بوكسر كلاسيك قماش رجالي/بوكسر كلاسيك قماش رجالي3.jpg",
      "img/proudct/قطونيل/بوكسر كلاسيك قماش رجالي/بوكسر كلاسيك قماش رجالي4.jpg",
      "img/proudct/قطونيل/بوكسر كلاسيك قماش رجالي/بوكسر كلاسيك قماش رجالي5.jpg"
    ]
  },
  {
    "id": 21,
    "name": "بوكسر ريلاكس رجالي مقاس",
    "price": "115 جنيه",
    "colors": ["متعدد"],
    "sizes": ["2XL", "3XL", "4XL", "5XL", "6XL", "7XL", "L", "M", "S", "XL"],
    "category": "قطونيل",
    "images": [
      "img/proudct/قطونيل/بوكسر ريلاكس رجالي/بوكسر ريلاكس رجالي1.jpg",
      "img/proudct/قطونيل/بوكسر ريلاكس رجالي/بوكسر ريلاكس رجالي2.jpg",
      "img/proudct/قطونيل/بوكسر ريلاكس رجالي/بوكسر ريلاكس رجالي3.jpg",
      "img/proudct/قطونيل/بوكسر ريلاكس رجالي/بوكسر ريلاكس رجالي4.webp",
      "img/proudct/قطونيل/بوكسر ريلاكس رجالي/بوكسر ريلاكس رجالي5.jpg",
      "img/proudct/قطونيل/بوكسر ريلاكس رجالي/بوكسر ريلاكس رجالي6.webp",
      "img/proudct/قطونيل/بوكسر ريلاكس رجالي/بوكسر ريلاكس رجالي7.webp",
      "img/proudct/قطونيل/بوكسر ريلاكس رجالي/بوكسر ريلاكس رجالي8.webp"
    ]
  },
  {
    "id": 22,
    "name": "سليب رجالي مقاس",
    "price": "110 جنيه",
    "colors": ["أبيض"],
    "sizes": ["2XL", "3XL", "4XL", "L", "M", "S", "XL"],
    "category": "قطونيل",
    "images": [
      "img/proudct/قطونيل/سليب رجالي أبيض/سليب رجالي أبيض 1.webp",
      "img/proudct/قطونيل/سليب رجالي أبيض/سليب رجالي أبيض 2.jpg"
    ]
  },
  {
    "id": 23,
    "name": "شورت رجالي مقاس",
    "price": "130 جنيه",
    "colors": ["أبيض"],
    "sizes": ["2XL", "3XL", "4XL", "5XL", "6XL", "L", "M", "S", "XL"],
    "category": "قطونيل",
    "images": [
      "img/proudct/قطونيل/شورت أبيض رجالي/شورت أبيض رجالي 1.webp",
      "img/proudct/قطونيل/شورت أبيض رجالي/شورت أبيض رجالي 2.webp",
      "img/proudct/قطونيل/شورت أبيض رجالي/شورت أبيض رجالي 3.webp"
    ]
  },
  {
    "id": 24,
    "name": "طقم دفاية انترلوك رجالي مقاس",
    "price": "550 جنيه",
    "colors": ["متعدد"],
    "sizes": ["2XL", "3XL", "4XL", "L", "M", "XL"],
    "category": "قطونيل",
    "images": [
      "img/proudct/قطونيل/طقم دفاية انترلوك رجالي/طقم دفاية انترلوك رجالي.webp",
      "img/proudct/قطونيل/طقم دفاية انترلوك رجالي/طقم دفاية انترلوك رجالي1.webp",
      "img/proudct/قطونيل/طقم دفاية انترلوك رجالي/طقم دفاية انترلوك رجالي2.webp"
    ]
  },
  {
    "id": 25,
    "name": "فانيله بكم طويل رجالي مقاس",
    "price": "250 جنيه",
    "colors": ["متعدد"],
    "sizes": ["2XL", "3XL", "4XL", "L", "M", "XL"],
    "category": "قطونيل",
    "images": [
      "img/proudct/قطونيل/فانيله بكم طويل (انترلوك) رجالي/فانيله بكم طويل (انترلوك) رجالي.jpg",
      "img/proudct/قطونيل/فانيله بكم طويل (انترلوك) رجالي/فانيله بكم طويل (انترلوك) رجالي1.jpg"
    ]
  },
  {
    "id": 26,
    "name": "كالسون رجالي مقاس",
    "price": "250 جنيه",
    "colors": ["متعدد"],
    "sizes": ["2XL", "3XL", "4XL", "L", "M", "XL"],
    "category": "قطونيل",
    "images": [
      "img/proudct/قطونيل/كالسون (انترلوك) رجالي/كالسون (انترلوك) رجالي 2.jpg",
      "img/proudct/قطونيل/كالسون (انترلوك) رجالي/كالسون (انترلوك) رجالي.jpg"
    ]
  },

  {
    "id": 29,
    "name": "نص كم ايزي توب بناتي",
    "price": "133 جنيه",
    "colors": ["متعدد"],
    "sizes": ["11-12", "13-14", "15-16", "3-4", "5-6", "7-8", "9-10"],
    "category": "قطونيل اطفال",
    "images": [
      "img/proudct/قطونيل اطفال/نص كم ايزي توب بناتي/نص كم ايزي توب بناتي 1.webp",
      "img/proudct/قطونيل اطفال/نص كم ايزي توب بناتي/نص كم ايزي توب بناتي 2.webp",
      "img/proudct/قطونيل اطفال/نص كم ايزي توب بناتي/نص كم ايزي توب بناتي 3.jpg",
      "img/proudct/قطونيل اطفال/نص كم ايزي توب بناتي/نص كم ايزي توب بناتي 4.jpg"
    ]
  },
 
  {
    "id": 32,
    "name": "بوكسر تيربو اولادي",
    "price": "96 جنيه",
    "colors": ["متعدد"],
    "sizes": ["1-2", "11-12", "13-14", "15-16", "3-4", "5-6", "7-8", "9-10"],
    "category": "قطونيل اطفال",
    "images": [
      "img/proudct/قطونيل اطفال/بوكسر تيربو اولادي/بوكسر تيربو اولادي.jpg",
      "img/proudct/قطونيل اطفال/بوكسر تيربو اولادي/بوكسر تيربو اولادي1.jpg",
      "img/proudct/قطونيل اطفال/بوكسر تيربو اولادي/بوكسر تيربو اولادي2.jpg",
      "img/proudct/قطونيل اطفال/بوكسر تيربو اولادي/بوكسر تيربو اولادي3.jpg",
      "img/proudct/قطونيل اطفال/بوكسر تيربو اولادي/بوكسر تيربو اولادي4.jpg",
      "img/proudct/قطونيل اطفال/بوكسر تيربو اولادي/بوكسر تيربو اولادي5.jpg",
      "img/proudct/قطونيل اطفال/بوكسر تيربو اولادي/بوكسر تيربو اولادي6.jpg",
      "img/proudct/قطونيل اطفال/بوكسر تيربو اولادي/بوكسر تيربو اولادي7.webp",
      "img/proudct/قطونيل اطفال/بوكسر تيربو اولادي/بوكسر تيربو اولادي8.webp"
    ]
  },
 
  {
    "id": 34,
    "name": "حماله ستريتش اولادي",
    "price": "108 جنيه",
    "colors": ["أبيض", "ألوان"],
    "sizes": ["11-12", "13-14", "15-16", "3-4", "5-6", "7-8", "9-10"],
    "category": "قطونيل اطفال",
    "images": [
      "img/proudct/قطونيل اطفال/حماله ستريتش  اولادي/حماله ستريتش اولادي 1.webp",
      "img/proudct/قطونيل اطفال/حماله ستريتش  اولادي/حماله ستريتش اولادي 2.jpg",
      "img/proudct/قطونيل اطفال/حماله ستريتش  اولادي/حماله ستريتش اولادي ابيض.webp",
      "img/proudct/قطونيل اطفال/حماله ستريتش  اولادي/حماله ستريتش اولادي.webp"
    ]
  },

  {
    "id": 36,
    "name": "طقم تيربو اولادي",
    "price": "174 جنيه",
    "colors": ["متعدد"],
    "sizes": ["1-2", "11-12", "13-14", "15-16", "3-4", "5-6", "7-8", "9-10"],
    "category": "قطونيل اطفال",
    "images": [
      "img/proudct/قطونيل اطفال/طقم تيربو (بوكسر+حماله) اولادي/طقم تيربو (بوكسر+حماله) اولادي1.jpg",
      "img/proudct/قطونيل اطفال/طقم تيربو (بوكسر+حماله) اولادي/طقم تيربو (بوكسر+حماله) اولادي2.jpg",
      "img/proudct/قطونيل اطفال/طقم تيربو (بوكسر+حماله) اولادي/طقم تيربو (بوكسر+حماله) اولادي3.jpg",
      "img/proudct/قطونيل اطفال/طقم تيربو (بوكسر+حماله) اولادي/طقم تيربو (بوكسر+حماله) اولادي4.webp",
      "img/proudct/قطونيل اطفال/طقم تيربو (بوكسر+حماله) اولادي/طقم تيربو (بوكسر+حماله) اولادي5.jpg",
      "img/proudct/قطونيل اطفال/طقم تيربو (بوكسر+حماله) اولادي/طقم تيربو (بوكسر+حماله) اولادي6.webp"
    ]
  },
  {
    "id": 37,
    "name": "طقم كالسون ريلاكس اولادي",
    "price": "318 جنيه",
    "colors": ["متعدد"],
    "sizes": ["1-2", "3-4", "5-6", "7-8", "9-10"],
    "category": "قطونيل اطفال",
    "images": [
      "img/proudct/قطونيل اطفال/طقم كالسون ريلاكس اولادي/طقم كالسون ريلاكس اولادي.webp",
      "img/proudct/قطونيل اطفال/طقم كالسون ريلاكس اولادي/طقم كالسون ريلاكس اولادي1.webp",
      "img/proudct/قطونيل اطفال/طقم كالسون ريلاكس اولادي/طقم كالسون ريلاكس اولادي2.webp"
    ]
  },
  {
    "id": 38,
    "name": "طقم هارت بناتي",
    "price": "145 جنيه",
    "colors": ["متعدد"],
    "sizes": ["1-2", "11-12", "13-14", "3-4", "5-6", "7-8", "9-10"],
    "category": "قطونيل اطفال",
    "images": [
      "img/proudct/قطونيل اطفال/طقم هارت (توب + اندر) بناتي/طقم هارت (توب + اندر) بناتي1.webp",
      "img/proudct/قطونيل اطفال/طقم هارت (توب + اندر) بناتي/طقم هارت (توب + اندر) بناتي2.jpg",
      "img/proudct/قطونيل اطفال/طقم هارت (توب + اندر) بناتي/طقم هارت (توب + اندر) بناتي3.webp",
      "img/proudct/قطونيل اطفال/طقم هارت (توب + اندر) بناتي/طقم هارت (توب + اندر) بناتي4.jpg",
      "img/proudct/قطونيل اطفال/طقم هارت (توب + اندر) بناتي/طقم هارت (توب + اندر) بناتي5.jpg"
    ]
  },

  {
    "id": 40,
    "name": "طقم هوت بناتي",
    "price": "155 جنيه",
    "colors": ["متعدد"],
    "sizes": ["1-2", "11-12", "13-14", "3-4", "5-6", "7-8", "9-10"],
    "category": "قطونيل اطفال",
    "images": [
      "img/proudct/قطونيل اطفال/طقم هوت (توب + هوت شورت) بناتي/طقم هوت (توب + هوت شورت) بناتي.webp",
      "img/proudct/قطونيل اطفال/طقم هوت (توب + هوت شورت) بناتي/طقم هوت (توب + هوت شورت) بناتي1.jpg",
      "img/proudct/قطونيل اطفال/طقم هوت (توب + هوت شورت) بناتي/طقم هوت (توب + هوت شورت) بناتي2.webp",
      "img/proudct/قطونيل اطفال/طقم هوت (توب + هوت شورت) بناتي/طقم هوت (توب + هوت شورت) بناتي4.webp",
      "img/proudct/قطونيل اطفال/طقم هوت (توب + هوت شورت) بناتي/طقم هوت (توب + هوت شورت) بناتي5.webp"
    ]
  },
  {
    "id": 41,
    "name": "كم ستريتش اولادي",
    "price": "130 جنيه",
    "colors": ["أبيض", "ألوان"],
    "sizes": ["1-2", "11-12", "13-14", "15-16", "3-4", "5-6", "7-8", "9-10"],
    "category": "قطونيل اطفال",
    "images": [
      "img/proudct/قطونيل اطفال/كم ستريتش اولادي/كم ستريتش اولادي.webp",
      "img/proudct/قطونيل اطفال/كم ستريتش اولادي/كم ستريتش اولادي1.jpg"
    ]
  },
  {
    "id": 42,
    "name": "اندر كاندي مطبوع بناتي",
    "price": "133 جنيه",
    "colors": ["متعدد"],
    "sizes": ["11-12", "13-14", "15-16", "5-6", "7-8", "9-10"],
    "category": "قطونيل اطفال",
    "images": [
      "img/proudct/قطونيل اطفال/اندر كاندي مطبوع (2ق) بناتي/اندر كاندي مطبوع (2ق) بناتي.webp",
      "img/proudct/قطونيل اطفال/اندر كاندي مطبوع (2ق) بناتي/اندر كاندي مطبوع (2ق) بناتي1.webp"
    ]
  },
  {
    "id": 43,
    "name": "نص كم ستريتش اولادي",
    "price": "140 جنيه",
    "colors": ["أبيض", "ألوان"],
    "sizes": ["11-12", "13-14", "15-16", "3-4", "5-6", "7-8", "9-10"],
    "category": "قطونيل اطفال",
    "images": [
      "img/proudct/قطونيل اطفال/نص كم ستريتش اولادي/نص كم ستريتش اولادي.webp",
      "img/proudct/قطونيل اطفال/نص كم ستريتش اولادي/نص كم ستريتش اولادي1.webp"
    ]
  },
  {
    "id": 44,
    "name": "نص كم ايزي توب حريمي",
    "price": "150 جنيه",
    "colors": ["متعدد"],
    "sizes": ["L", "M", "XL"],
    "category": "قطونيل حريمي vega",
    "images": [
      "img/proudct/قطونيل حريمي vega/نص كم ايزي توب حريمي/نص كم ايزي توب حريمي 1.webp",
      "img/proudct/قطونيل حريمي vega/نص كم ايزي توب حريمي/نص كم ايزي توب حريمي 2.webp",
      "img/proudct/قطونيل حريمي vega/نص كم ايزي توب حريمي/نص كم ايزي توب حريمي 3.webp",
      "img/proudct/قطونيل حريمي vega/نص كم ايزي توب حريمي/نص كم ايزي توب حريمي 4.webp",
      "img/proudct/قطونيل حريمي vega/نص كم ايزي توب حريمي/نص كم ايزي توب حريمي 5.avif"
    ]
  },
  {
    "id": 45,
    "name": "نص كم ايزي توب حريمي 2X",
    "price": "150 جنيه",
    "colors": ["متعدد"],
    "sizes": ["2XL"],
    "category": "قطونيل حريمي vega",
    "images": [
      "img/proudct/قطونيل حريمي vega/نص كم ايزي توب حريمي/نص كم ايزي توب حريمي 1.webp",
      "img/proudct/قطونيل حريمي vega/نص كم ايزي توب حريمي/نص كم ايزي توب حريمي 2.webp",
      "img/proudct/قطونيل حريمي vega/نص كم ايزي توب حريمي/نص كم ايزي توب حريمي 3.webp",
      "img/proudct/قطونيل حريمي vega/نص كم ايزي توب حريمي/نص كم ايزي توب حريمي 4.webp",
      "img/proudct/قطونيل حريمي vega/نص كم ايزي توب حريمي/نص كم ايزي توب حريمي 5.avif"
    ]
  },
  {
    "id": 46,
    "name": "نص كم ايزي توب حريمي 3X",
    "price": "150 جنيه",
    "colors": ["متعدد"],
    "sizes": ["3XL"],
    "category": "قطونيل حريمي vega",
    "images": [
      "img/proudct/قطونيل حريمي vega/نص كم ايزي توب حريمي/نص كم ايزي توب حريمي 1.webp",
      "img/proudct/قطونيل حريمي vega/نص كم ايزي توب حريمي/نص كم ايزي توب حريمي 2.webp",
      "img/proudct/قطونيل حريمي vega/نص كم ايزي توب حريمي/نص كم ايزي توب حريمي 3.webp",
      "img/proudct/قطونيل حريمي vega/نص كم ايزي توب حريمي/نص كم ايزي توب حريمي 4.webp",
      "img/proudct/قطونيل حريمي vega/نص كم ايزي توب حريمي/نص كم ايزي توب حريمي 5.avif"
    ]
  },

  {
    "id": 48,
    "name": "بنطلون طويل ليجين حريمي",
    "price": "205 جنيه",
    "colors": ["متعدد"],
    "sizes": ["L", "M", "XL"],
    "category": "قطونيل حريمي vega",
    "images": ["img/proudct/قطونيل حريمي vega/بنطلون طويل ليجين حريمي/بنطلون طويل ليجين حريمي.jpg"]
  },
  {
    "id": 49,
    "name": "بنطلون طويل ليجين حريمي 2X",
    "price": "205 جنيه",
    "colors": ["متعدد"],
    "sizes": ["2XL"],
    "category": "قطونيل حريمي vega",
    "images": ["img/proudct/قطونيل حريمي vega/بنطلون طويل ليجين حريمي/بنطلون طويل ليجين حريمي.jpg"]
  },
  {
    "id": 50,
    "name": "بنطلون طويل ليجين حريمي 3X",
    "price": "205 جنيه",
    "colors": ["متعدد"],
    "sizes": ["3XL"],
    "category": "قطونيل حريمي vega",
    "images": ["img/proudct/قطونيل حريمي vega/بنطلون طويل ليجين حريمي/بنطلون طويل ليجين حريمي.jpg"]
  },
  {
    "id": 51,
    "name": "بنطلون طويل ليجين حريمي 4X",
    "price": "205 جنيه",
    "colors": ["متعدد"],
    "sizes": ["4XL"],
    "category": "قطونيل حريمي vega",
    "images": ["img/proudct/قطونيل حريمي vega/بنطلون طويل ليجين حريمي/بنطلون طويل ليجين حريمي.jpg"]
  },
  {
    "id": 55,
    "name": "حماله توب قطن حريمي",
    "price": "140 جنيه",
    "colors": ["متعدد"],
    "sizes": ["L", "M", "XL"],
    "category": "قطونيل حريمي vega",
    "images": [
      "img/proudct/قطونيل حريمي vega/حماله توب قطن حريمي/حماله توب قطن حريمي.jpg",
      "img/proudct/قطونيل حريمي vega/حماله توب قطن حريمي/حماله توب قطن حريمي1.jpg"
    ]
  },
  {
    "id": 56,
    "name": "حماله توب قطن حريمي 2X",
    "price": "140 جنيه",
    "colors": ["متعدد"],
    "sizes": ["2XL"],
    "category": "قطونيل حريمي vega",
    "images": [
      "img/proudct/قطونيل حريمي vega/حماله توب قطن حريمي/حماله توب قطن حريمي.jpg",
      "img/proudct/قطونيل حريمي vega/حماله توب قطن حريمي/حماله توب قطن حريمي1.jpg"
    ]
  },
  {
    "id": 57,
    "name": "حماله توب قطن حريمي 3X",
    "price": "140 جنيه",
    "colors": ["متعدد"],
    "sizes": ["3XL"],
    "category": "قطونيل حريمي vega",
    "images": [
      "img/proudct/قطونيل حريمي vega/حماله توب قطن حريمي/حماله توب قطن حريمي.jpg",
      "img/proudct/قطونيل حريمي vega/حماله توب قطن حريمي/حماله توب قطن حريمي1.jpg"
    ]
  },
  {
    "id": 58,
    "name": "برا سبورت قطن حريمي",
    "price": "165 جنيه",
    "colors": ["متعدد"],
    "sizes": ["L", "M"],
    "category": "قطونيل حريمي vega",
    "images": [
      "img/proudct/قطونيل حريمي vega/برا سبورت قطن حريمي(701)/برا سبورت قطن حريمي(701) 5.jpg",
      "img/proudct/قطونيل حريمي vega/برا سبورت قطن حريمي(701)/برا سبورت قطن حريمي(701).avif",
      "img/proudct/قطونيل حريمي vega/برا سبورت قطن حريمي(701)/برا سبورت قطن حريمي(701)2.webp",
      "img/proudct/قطونيل حريمي vega/برا سبورت قطن حريمي(701)/برا سبورت قطن حريمي(701)3.jpg",
      "img/proudct/قطونيل حريمي vega/برا سبورت قطن حريمي(701)/برا سبورت قطن حريمي(701)4.jpg"
    ]
  },
  {
    "id": 59,
    "name": "برا سبورت قطن حريمي)",
    "price": "165 جنيه",
    "colors": ["متعدد"],
    "sizes": ["XL"],
    "category": "قطونيل حريمي vega",
    "images": [
      "img/proudct/قطونيل حريمي vega/برا سبورت قطن حريمي(701)/برا سبورت قطن حريمي(701) 5.jpg",
      "img/proudct/قطونيل حريمي vega/برا سبورت قطن حريمي(701)/برا سبورت قطن حريمي(701).avif",
      "img/proudct/قطونيل حريمي vega/برا سبورت قطن حريمي(701)/برا سبورت قطن حريمي(701)2.webp",
      "img/proudct/قطونيل حريمي vega/برا سبورت قطن حريمي(701)/برا سبورت قطن حريمي(701)3.jpg",
      "img/proudct/قطونيل حريمي vega/برا سبورت قطن حريمي(701)/برا سبورت قطن حريمي(701)4.jpg"
    ]
  },
  {
    "id": 60,
    "name": "برا سبورت قطن حريمي 2X",
    "price": "165 جنيه",
    "colors": ["متعدد"],
    "sizes": ["2XL"],
    "category": "قطونيل حريمي vega",
    "images": [
      "img/proudct/قطونيل حريمي vega/برا سبورت قطن حريمي(701)/برا سبورت قطن حريمي(701) 5.jpg",
      "img/proudct/قطونيل حريمي vega/برا سبورت قطن حريمي(701)/برا سبورت قطن حريمي(701).avif",
      "img/proudct/قطونيل حريمي vega/برا سبورت قطن حريمي(701)/برا سبورت قطن حريمي(701)2.webp",
      "img/proudct/قطونيل حريمي vega/برا سبورت قطن حريمي(701)/برا سبورت قطن حريمي(701)3.jpg",
      "img/proudct/قطونيل حريمي vega/برا سبورت قطن حريمي(701)/برا سبورت قطن حريمي(701)4.jpg"
    ]
  },
  {
    "id": 61,
    "name": "برا سبورت قطن حريمي 3X",
    "price": "165 جنيه",
    "colors": ["متعدد"],
    "sizes": ["3XL"],
    "category": "قطونيل حريمي vega",
    "images": [
      "img/proudct/قطونيل حريمي vega/برا سبورت قطن حريمي(701)/برا سبورت قطن حريمي(701) 5.jpg",
      "img/proudct/قطونيل حريمي vega/برا سبورت قطن حريمي(701)/برا سبورت قطن حريمي(701).avif",
      "img/proudct/قطونيل حريمي vega/برا سبورت قطن حريمي(701)/برا سبورت قطن حريمي(701)2.webp",
      "img/proudct/قطونيل حريمي vega/برا سبورت قطن حريمي(701)/برا سبورت قطن حريمي(701)3.jpg",
      "img/proudct/قطونيل حريمي vega/برا سبورت قطن حريمي(701)/برا سبورت قطن حريمي(701)4.jpg"
    ]
  },
  {
    "id": 62,
    "name": "برا سبورت قطن حريمي4X",
    "price": "165 جنيه",
    "colors": ["متعدد"],
    "sizes": ["4XL"],
    "category": "قطونيل حريمي vega",
    "images": [
      "img/proudct/قطونيل حريمي vega/برا سبورت قطن حريمي(701)/برا سبورت قطن حريمي(701) 5.jpg",
      "img/proudct/قطونيل حريمي vega/برا سبورت قطن حريمي(701)/برا سبورت قطن حريمي(701).avif",
      "img/proudct/قطونيل حريمي vega/برا سبورت قطن حريمي(701)/برا سبورت قطن حريمي(701)2.webp",
      "img/proudct/قطونيل حريمي vega/برا سبورت قطن حريمي(701)/برا سبورت قطن حريمي(701)3.jpg",
      "img/proudct/قطونيل حريمي vega/برا سبورت قطن حريمي(701)/برا سبورت قطن حريمي(701)4.jpg"
    ]
  },
  {
    "id": 63,
    "name": "برابرا سبورت قطن حريمي 5X",
    "price": "165 جنيه",
    "colors": ["متعدد"],
    "sizes": ["5XL"],
    "category": "قطونيل حريمي vega",
    "images": [
      "img/proudct/قطونيل حريمي vega/برا سبورت قطن حريمي(701)/برا سبورت قطن حريمي(701) 5.jpg",
      "img/proudct/قطونيل حريمي vega/برا سبورت قطن حريمي(701)/برا سبورت قطن حريمي(701).avif",
      "img/proudct/قطونيل حريمي vega/برا سبورت قطن حريمي(701)/برا سبورت قطن حريمي(701)2.webp",
      "img/proudct/قطونيل حريمي vega/برا سبورت قطن حريمي(701)/برا سبورت قطن حريمي(701)3.jpg",
      "img/proudct/قطونيل حريمي vega/برا سبورت قطن حريمي(701)/برا سبورت قطن حريمي(701)4.jpg"
    ]
  },
  {
    "id": 64,
    "name": "برا سوفت قطن حريمي",
    "price": "165 جنيه",
    "colors": ["متعدد"],
    "sizes": ["L", "M", "XL"],
    "category": "قطونيل حريمي vega",
    "images": ["img/proudct/قطونيل حريمي vega/برا سوفت قطن حريمي/برا سوفت قطن حريمي.jpg"]
  },
  {
    "id": 65,
    "name": "برا سوفت قطن حريمي 2X",
    "price": "165 جنيه",
    "colors": ["متعدد"],
    "sizes": ["2XL"],
    "category": "قطونيل حريمي vega",
    "images": ["img/proudct/قطونيل حريمي vega/برا سوفت قطن حريمي/برا سوفت قطن حريمي.jpg"]
  },
  {
    "id": 66,
    "name": "برا سوفت قطن حريمي 3X",
    "price": "165 جنيه",
    "colors": ["متعدد"],
    "sizes": ["3XL"],
    "category": "قطونيل حريمي vega",
    "images": ["img/proudct/قطونيل حريمي vega/برا سوفت قطن حريمي/برا سوفت قطن حريمي.jpg"]
  },
  {
    "id": 67,
    "name": "شورت قطن حريمي",
    "price": "192 جنيه",
    "colors": ["ألوان"],
    "sizes": ["L", "M", "XL"],
    "category": "قطونيل حريمي vega",
    "images": ["img/proudct/قطونيل حريمي vega/شورت قطن الوان حريمي/شورت قطن الوان حريمي.webp"]
  },
  {
    "id": 68,
    "name": "شورت قطن حريمي 2X",
    "price": "192 جنيه",
    "colors": ["ألوان"],
    "sizes": ["2XL"],
    "category": "قطونيل حريمي vega",
    "images": ["img/proudct/قطونيل حريمي vega/شورت قطن الوان حريمي/شورت قطن الوان حريمي.webp"]
  },
  {
    "id": 69,
    "name": "شورت قطن حريمي 3X",
    "price": "192 جنيه",
    "colors": ["ألوان"],
    "sizes": ["3XL"],
    "category": "قطونيل حريمي vega",
    "images": ["img/proudct/قطونيل حريمي vega/شورت قطن الوان حريمي/شورت قطن الوان حريمي.webp"]
  },
  {
    "id": 73,
    "name": "كت توب حريمي",
    "price": "159 جنيه",
    "colors": ["متعدد"],
    "sizes": ["L", "M", "XL"],
    "category": "قطونيل حريمي vega",
    "images": ["img/proudct/قطونيل حريمي vega/كت توب (هاي نك) حريمي/كت توب (هاي نك) حريمي.jpg"]
  },
  {
    "id": 74,
    "name": "كت توب حريمي 2X",
    "price": "159 جنيه",
    "colors": ["متعدد"],
    "sizes": ["2XL"],
    "category": "قطونيل حريمي vega",
    "images": ["img/proudct/قطونيل حريمي vega/كت توب (هاي نك) حريمي/كت توب (هاي نك) حريمي.jpg"]
  },
  {
    "id": 75,
    "name": "كت توب حريمي 3X",
    "price": "159 جنيه",
    "colors": ["متعدد"],
    "sizes": ["3XL"],
    "category": "قطونيل حريمي vega",
    "images": ["img/proudct/قطونيل حريمي vega/كت توب (هاي نك) حريمي/كت توب (هاي نك) حريمي.jpg"]
  },

  {
    "id": 77,
    "name": "كم طويل قطن",
    "price": "236 - 250 جنيه",
    "colors": ["متعدد"],
    "sizes": ["L", "M", "XL"],
    "category": "قطونيل حريمي vega",
    "images": [
      "img/proudct/قطونيل حريمي vega/كم طويل (نو نك) قطن/كم طويل (نو نك) قطن 6.webp",
      "img/proudct/قطونيل حريمي vega/كم طويل (نو نك) قطن/كم طويل (نو نك) قطن.webp",
      "img/proudct/قطونيل حريمي vega/كم طويل (نو نك) قطن/كم طويل (نو نك) قطن1.webp",
      "img/proudct/قطونيل حريمي vega/كم طويل (نو نك) قطن/كم طويل (نو نك) قطن2.webp",
      "img/proudct/قطونيل حريمي vega/كم طويل (نو نك) قطن/كم طويل (نو نك) قطن3.webp",
      "img/proudct/قطونيل حريمي vega/كم طويل (نو نك) قطن/كم طويل (نو نك) قطن5.webp",
      "img/proudct/قطونيل حريمي vega/كم طويل (هاي نك) قطن/كم طويل (هاي نك) قطن 1.webp",
      "img/proudct/قطونيل حريمي vega/كم طويل (هاي نك) قطن/كم طويل (هاي نك) قطن.webp"
    ]
  },
  {
    "id": 78,
    "name": "كم طويل قطن 2X",
    "price": "236 - 250 جنيه",
    "colors": ["متعدد"],
    "sizes": ["2XL"],
    "category": "قطونيل حريمي vega",
    "images": [
      "img/proudct/قطونيل حريمي vega/كم طويل (نو نك) قطن/كم طويل (نو نك) قطن 6.webp",
      "img/proudct/قطونيل حريمي vega/كم طويل (نو نك) قطن/كم طويل (نو نك) قطن.webp",
      "img/proudct/قطونيل حريمي vega/كم طويل (نو نك) قطن/كم طويل (نو نك) قطن1.webp",
      "img/proudct/قطونيل حريمي vega/كم طويل (نو نك) قطن/كم طويل (نو نك) قطن2.webp",
      "img/proudct/قطونيل حريمي vega/كم طويل (نو نك) قطن/كم طويل (نو نك) قطن3.webp",
      "img/proudct/قطونيل حريمي vega/كم طويل (نو نك) قطن/كم طويل (نو نك) قطن5.webp",
      "img/proudct/قطونيل حريمي vega/كم طويل (هاي نك) قطن/كم طويل (هاي نك) قطن 1.webp",
      "img/proudct/قطونيل حريمي vega/كم طويل (هاي نك) قطن/كم طويل (هاي نك) قطن.webp"
    ]
  },
  {
    "id": 79,
    "name": "كم طويل قطن 3X",
    "price": "236 - 250 جنيه",
    "colors": ["متعدد"],
    "sizes": ["3XL"],
    "category": "قطونيل حريمي vega",
    "images": [
      "img/proudct/قطونيل حريمي vega/كم طويل (نو نك) قطن/كم طويل (نو نك) قطن 6.webp",
      "img/proudct/قطونيل حريمي vega/كم طويل (نو نك) قطن/كم طويل (نو نك) قطن.webp",
      "img/proudct/قطونيل حريمي vega/كم طويل (نو نك) قطن/كم طويل (نو نك) قطن1.webp",
      "img/proudct/قطونيل حريمي vega/كم طويل (نو نك) قطن/كم طويل (نو نك) قطن2.webp",
      "img/proudct/قطونيل حريمي vega/كم طويل (نو نك) قطن/كم طويل (نو نك) قطن3.webp",
      "img/proudct/قطونيل حريمي vega/كم طويل (نو نك) قطن/كم طويل (نو نك) قطن5.webp",
      "img/proudct/قطونيل حريمي vega/كم طويل (هاي نك) قطن/كم طويل (هاي نك) قطن 1.webp",
      "img/proudct/قطونيل حريمي vega/كم طويل (هاي نك) قطن/كم طويل (هاي نك) قطن.webp"
    ]
  }
];

document.addEventListener('DOMContentLoaded', function() {
    const gallery = document.querySelector('.product-gallery');
    const filterButtonsContainer = document.querySelector('.filter-buttons');
    const whatsappNumber = '201012345678';

    // --- 2. Function to dynamically create filter buttons ---
    function createFilterButtons() {
        const categories = ['الكل', ...new Set(productsData.map(p => p.category))];
        categories.forEach(category => {
            const button = document.createElement('button');
            button.className = 'filter-btn';
            button.textContent = category;
            button.setAttribute('data-filter', category);
            if (category === 'الكل') button.classList.add('active');
            filterButtonsContainer.appendChild(button);
        });
    }

    // --- 3. Function to render products (MODIFIED for Image Slider) ---
    function renderProducts(productsToRender) {
        gallery.innerHTML = '';
        if (productsToRender.length === 0) {
            gallery.innerHTML = '<p style="text-align:center; font-size: 1.2rem; grid-column: 1 / -1;">لا توجد منتجات تطابق هذا الفلتر حالياً.</p>';
            return;
        }
        
        productsToRender.forEach(product => {
            const hasImages = product.images && product.images.length > 0;
            const hasMultipleImages = hasImages && product.images.length > 1;

            // Generate image tags for the slider
            let imagesHTML = '';
            if (hasImages) {
                imagesHTML = product.images.map((imgSrc, index) => 
                    `<img src="${imgSrc}" alt="${product.name} - صورة ${index + 1}" class="${index === 0 ? 'active' : ''}" loading="lazy">`
                ).join('');
            } else {
                imagesHTML = `<img src="https://via.placeholder.com/400x400.png/1A1A1A/D4AF37?text=Image+Not+Found" alt="${product.name}" class="active">`;
            }

            // Generate slider navigation buttons only if there are multiple images
            const sliderNavHTML = hasMultipleImages ? `
                <div class="slider-nav">
                    <button class="slider-btn prev-btn" aria-label="الصورة السابقة"><i class="fas fa-chevron-left"></i></button>
                    <button class="slider-btn next-btn" aria-label="الصورة التالية"><i class="fas fa-chevron-right"></i></button>
                </div>
            ` : '';
            
            const productCardHTML = `
                <div class="product-card reveal" data-current-slide="0">
                    <div class="img-container">
                        <div class="slider-images">${imagesHTML}</div>
                        ${sliderNavHTML}
                    </div>
                    <div class="product-info">
                        <h3>${product.name}</h3>
                        <p class="product-price">${product.price}</p>
                        <div class="product-details">
                            <span><strong>الألوان:</strong> ${product.colors.join(', ')}</span><br>
                            <span><strong>المقاسات:</strong> ${product.sizes.join(', ')}</span>
                        </div>
                        <button class="order-btn" data-product-name="${product.name}">اطلبه الآن عبر واتساب</button>
                    </div>
                </div>`;
            gallery.insertAdjacentHTML('beforeend', productCardHTML);
        });
        reveal();
    }

    // --- 4. Filtering Logic ---
    function setupFiltering() {
        filterButtonsContainer.addEventListener('click', (event) => {
            if (event.target.classList.contains('filter-btn')) {
                document.querySelector('.filter-btn.active').classList.remove('active');
                event.target.classList.add('active');
                
                const filter = event.target.getAttribute('data-filter');
                const filteredProducts = (filter === 'الكل')
                    ? productsData
                    : productsData.filter(p => p.category === filter);
                
                renderProducts(filteredProducts);
            }
        });
    }
    
    // --- 5. Event Delegation for All Card Interactions (WhatsApp & Slider) ---
    gallery.addEventListener('click', function(event) {
        const target = event.target;
        
        // WhatsApp Order Logic
        const orderBtn = target.closest('.order-btn');
        if (orderBtn) {
            const productName = orderBtn.getAttribute('data-product-name');
            const message = encodeURIComponent(`مرحباً، أرغب في طلب المنتج التالي: ${productName}`);
            const whatsappURL = `https://wa.me/${whatsappNumber}?text=${message}`;
            window.open(whatsappURL, '_blank');
            return; // Stop further execution
        }

        // Image Slider Logic
        const sliderBtn = target.closest('.slider-btn');
        if (sliderBtn) {
            const card = sliderBtn.closest('.product-card');
            const images = card.querySelectorAll('.slider-images img');
            let currentIndex = parseInt(card.getAttribute('data-current-slide'));

            images[currentIndex].classList.remove('active');

            if (sliderBtn.classList.contains('next-btn')) {
                currentIndex = (currentIndex + 1) % images.length;
            } else if (sliderBtn.classList.contains('prev-btn')) {
                currentIndex = (currentIndex - 1 + images.length) % images.length;
            }

            images[currentIndex].classList.add('active');
            card.setAttribute('data-current-slide', currentIndex);
        }
    });

    // --- Initial Page Load ---
    createFilterButtons();
    renderProducts(productsData);
    setupFiltering();

    // --- Mobile Menu & Scroll Reveal ---
    const menuToggle = document.getElementById('menu-toggle');
    const mobileMenu = document.getElementById('mobile-menu');
    const navLinks = mobileMenu.querySelectorAll('a');

    menuToggle.addEventListener('click', () => {
        mobileMenu.classList.toggle('active');
        menuToggle.classList.toggle('open'); // Toggle 'open' class for animation
    });

    navLinks.forEach(link => {
        link.addEventListener('click', () => {
            mobileMenu.classList.remove('active');
            menuToggle.classList.remove('open'); // Close animation
        });
    });
    
    function reveal() {
        const reveals = document.querySelectorAll(".reveal:not(.active)");
        for (let i = 0; i < reveals.length; i++) {
            const windowHeight = window.innerHeight;
            const elementTop = reveals[i].getBoundingClientRect().top;
            if (elementTop < windowHeight - 100) {
                reveals[i].classList.add("active");
            }
        }
    }
    window.addEventListener("scroll", reveal);
    reveal();
});